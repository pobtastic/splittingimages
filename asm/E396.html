<!DOCTYPE html>
<html>
<head>
<title>Splitting Images: Routine at E396</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="E352.html">E352</a>
</td>
<td class="up">Up: <a href="../maps/all.html#e396">Map</a></td>
<td class="next">
Next: <a href="E5B0.html">E5B0</a>
</td>
</tr>
</table>
<div class="description">E396: Routine at E396</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="F39E.html">F39E</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="e396"></span>E396</td>
<td class="instruction">LD A,($E5B2)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="E5B2.html">Data_Control</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e399"></span>E399</td>
<td class="instruction">LD HL,$D834</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="D834.html">D834</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e39c"></span>E39C</td>
<td class="instruction">CP $01</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e3f9">E3F9</a> if <span class="register">A</span> is not equal to 01.</td>
</tr>
<tr>
<td class="address-1"><span id="e39e"></span>E39E</td>
<td class="instruction">JR NZ,<a href="E396.html#e3f9">$E3F9</a></td>
</tr>
<tr>
<td class="address-2"><span id="e3a0"></span>E3A0</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3a3"></span>E3A3</td>
<td class="instruction">CP $0F</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 0F.</td>
</tr>
<tr>
<td class="address-1"><span id="e3a5"></span>E3A5</td>
<td class="instruction">JP P,<a href="E396.html#e53c">$E53C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e53c">E53C</a> P.</td>
</tr>
<tr>
<td class="address-1"><span id="e3a8"></span>E3A8</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e3aa"></span>E3AA</td>
<td class="instruction">JR NZ,<a href="E396.html#e3f0">$E3F0</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e3f0">E3F0</a> if <span class="register">A</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e3ac"></span>E3AC</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="2">Compare *<a href="D82C.html">D82C</a> with 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e3af"></span>E3AF</td>
<td class="instruction">CP $02</td>
</tr>
<tr>
<td class="address-1"><span id="e3b1"></span>E3B1</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3b4"></span>E3B4</td>
<td class="instruction">JR NZ,<a href="E396.html#e3f0">$E3F0</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e3f0">E3F0</a> if *<a href="D82C.html">D82C</a> is not equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e3b6"></span>E3B6</td>
<td class="instruction">ADD A,$04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e3b8"></span>E3B8</td>
<td class="instruction">LD ($D82D),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3bb"></span>E3BB</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e3bc"></span>E3BC</td>
<td class="instruction">LD A,$00</td>
<td class="comment-1" rowspan="2">Write 00 to *<a href="D835.html">PlayerCursor_Flag</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3be"></span>E3BE</td>
<td class="instruction">LD ($D835),A</td>
</tr>
<tr>
<td class="address-1"><span id="e3c1"></span>E3C1</td>
<td class="instruction">LD A,$2F</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=INK:
WHITE,
PAPER:
CYAN

.</td>
</tr>
<tr>
<td class="address-1"><span id="e3c3"></span>E3C3</td>
<td class="instruction">CALL <a href="E682.html">ColouriseHome</a></td>
<td class="comment-1" rowspan="1">Call <a href="E682.html">ColouriseHome</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3c6"></span>E3C6</td>
<td class="instruction">LD HL,$D82F</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="D82E.html#d82f">PlayerCursor_X_Position</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3c9"></span>E3C9</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e3ca"></span>E3CA</td>
<td class="instruction">LD B,$03</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=03.</td>
</tr>
<tr>
<td class="address-2"><span id="e3cc"></span>E3CC</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="2">Stash <span class="register">BC</span> and <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="e3cd"></span>E3CD</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="address-1"><span id="e3ce"></span>E3CE</td>
<td class="instruction">CALL <a href="E5E4.html">Draw_Cursor</a></td>
<td class="comment-1" rowspan="1">Call <a href="E5E4.html">Draw_Cursor</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3d1"></span>E3D1</td>
<td class="instruction">CALL <a href="E66A.html">$E66A</a></td>
<td class="comment-1" rowspan="1">Call <a href="E66A.html">E66A</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3d4"></span>E3D4</td>
<td class="instruction">CALL <a href="E5B3.html">$E5B3</a></td>
<td class="comment-1" rowspan="1">Call <a href="E5B3.html">E5B3</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3d7"></span>E3D7</td>
<td class="instruction">HALT</td>
<td class="comment-1" rowspan="1">Halt operation (suspend CPU until the next interrupt).</td>
</tr>
<tr>
<td class="address-1"><span id="e3d8"></span>E3D8</td>
<td class="instruction">CALL <a href="E63F.html">Remove_PlayerCursorAttributes</a></td>
<td class="comment-1" rowspan="1">Call <a href="E63F.html">Remove_PlayerCursorAttributes</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3db"></span>E3DB</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="2">Restore <span class="register">HL</span> and <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="e3dc"></span>E3DC</td>
<td class="instruction">POP BC</td>
</tr>
<tr>
<td class="address-1"><span id="e3dd"></span>E3DD</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e3de"></span>E3DE</td>
<td class="instruction">DJNZ <a href="E396.html#e3cc">$E3CC</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="E396.html#e3cc">E3CC</a> until counter is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e3e0"></span>E3E0</td>
<td class="instruction">CALL <a href="E661.html">Display_PlayerCursor</a></td>
<td class="comment-1" rowspan="1">Call <a href="E661.html">Display_PlayerCursor</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3e3"></span>E3E3</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="2">Write *<a href="D82C.html">D82C</a> to *<a href="D830.html">D830</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3e6"></span>E3E6</td>
<td class="instruction">LD ($D830),A</td>
</tr>
<tr>
<td class="address-1"><span id="e3e9"></span>E3E9</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="2">Write *<a href="D82D.html">D82D</a> to *<a href="D831.html">D831</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3ec"></span>E3EC</td>
<td class="instruction">LD ($D831),A</td>
</tr>
<tr>
<td class="address-1"><span id="e3ef"></span>E3EF</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="e3f0"></span>E3F0</td>
<td class="instruction">ADD A,$04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e3f2"></span>E3F2</td>
<td class="instruction">LD ($D82D),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e3f5"></span>E3F5</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e3f6"></span>E3F6</td>
<td class="instruction">JP <a href="E396.html#e53c">$E53C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e53c">E53C</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e3f9"></span>E3F9</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e454">E454</a> if <span class="register">A</span> is not equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e3fb"></span>E3FB</td>
<td class="instruction">JR NZ,<a href="E396.html#e454">$E454</a></td>
</tr>
<tr>
<td class="address-2"><span id="e3fd"></span>E3FD</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e400"></span>E400</td>
<td class="instruction">CP $05</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 05.</td>
</tr>
<tr>
<td class="address-1"><span id="e402"></span>E402</td>
<td class="instruction">JP M,<a href="E396.html#e53c">$E53C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e53c">E53C</a> M.</td>
</tr>
<tr>
<td class="address-1"><span id="e405"></span>E405</td>
<td class="instruction">CP $06</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e44b">E44B</a> if <span class="register">A</span> is not equal to 06.</td>
</tr>
<tr>
<td class="address-1"><span id="e407"></span>E407</td>
<td class="instruction">JR NZ,<a href="E396.html#e44b">$E44B</a></td>
</tr>
<tr>
<td class="address-1"><span id="e409"></span>E409</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82C.html">D82C</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e40c"></span>E40C</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e40e"></span>E40E</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e411"></span>E411</td>
<td class="instruction">JR NZ,<a href="E396.html#e44b">$E44B</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e44b">E44B</a> if <span class="register">A</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e413"></span>E413</td>
<td class="instruction">SUB $04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e415"></span>E415</td>
<td class="instruction">LD ($D82D),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e418"></span>E418</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e419"></span>E419</td>
<td class="instruction">CALL <a href="E658.html">Remove_PlayerCursor</a></td>
<td class="comment-1" rowspan="1">Call <a href="E658.html">Remove_PlayerCursor</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e41c"></span>E41C</td>
<td class="instruction">LD HL,$D82F</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="D82E.html#d82f">PlayerCursor_X_Position</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e41f"></span>E41F</td>
<td class="instruction">LD B,$04</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e421"></span>E421</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e3fd">E3FD</a> if <span class="register">A</span> is equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e423"></span>E423</td>
<td class="instruction">JR Z,<a href="E396.html#e3fd">$E3FD</a></td>
</tr>
<tr>
<td class="address-2"><span id="e425"></span>E425</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="2">Stash <span class="register">BC</span> and <span class="register">HL</span> on the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="e426"></span>E426</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="address-1"><span id="e427"></span>E427</td>
<td class="instruction">CALL <a href="E5E4.html">Draw_Cursor</a></td>
<td class="comment-1" rowspan="1">Call <a href="E5E4.html">Draw_Cursor</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e42a"></span>E42A</td>
<td class="instruction">CALL <a href="E66A.html">$E66A</a></td>
<td class="comment-1" rowspan="1">Call <a href="E66A.html">E66A</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e42d"></span>E42D</td>
<td class="instruction">CALL <a href="E5B3.html">$E5B3</a></td>
<td class="comment-1" rowspan="1">Call <a href="E5B3.html">E5B3</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e430"></span>E430</td>
<td class="instruction">HALT</td>
<td class="comment-1" rowspan="1">Halt operation (suspend CPU until the next interrupt).</td>
</tr>
<tr>
<td class="address-1"><span id="e431"></span>E431</td>
<td class="instruction">CALL <a href="E63F.html">Remove_PlayerCursorAttributes</a></td>
<td class="comment-1" rowspan="1">Call <a href="E63F.html">Remove_PlayerCursorAttributes</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e434"></span>E434</td>
<td class="instruction">POP HL</td>
<td class="comment-1" rowspan="2">Restore <span class="register">HL</span> and <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="e435"></span>E435</td>
<td class="instruction">POP BC</td>
</tr>
<tr>
<td class="address-1"><span id="e436"></span>E436</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e437"></span>E437</td>
<td class="instruction">DJNZ <a href="E396.html#e425">$E425</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="E396.html#e425">E425</a> until counter is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e439"></span>E439</td>
<td class="instruction">LD A,$00</td>
<td class="comment-1" rowspan="2">Write 00 to *<a href="D835.html">PlayerCursor_Flag</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e43b"></span>E43B</td>
<td class="instruction">LD ($D835),A</td>
</tr>
<tr>
<td class="address-1"><span id="e43e"></span>E43E</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="2">Write *<a href="D82C.html">D82C</a> to *<a href="D830.html">D830</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e441"></span>E441</td>
<td class="instruction">LD ($D830),A</td>
</tr>
<tr>
<td class="address-1"><span id="e444"></span>E444</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="2">Write *<a href="D82D.html">D82D</a> to *<a href="D831.html">D831</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e447"></span>E447</td>
<td class="instruction">LD ($D831),A</td>
</tr>
<tr>
<td class="address-1"><span id="e44a"></span>E44A</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
<tr>
<td class="address-2"><span id="e44b"></span>E44B</td>
<td class="instruction">SUB $04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e44d"></span>E44D</td>
<td class="instruction">LD ($D82D),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e450"></span>E450</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e451"></span>E451</td>
<td class="instruction">JP <a href="E396.html#e53c">$E53C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e53c">E53C</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e454"></span>E454</td>
<td class="instruction">CP $04</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e47b">E47B</a> if <span class="register">A</span> is not equal to 04.</td>
</tr>
<tr>
<td class="address-1"><span id="e456"></span>E456</td>
<td class="instruction">JR NZ,<a href="E396.html#e47b">$E47B</a></td>
</tr>
<tr>
<td class="address-2"><span id="e458"></span>E458</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82C.html">D82C</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e45b"></span>E45B</td>
<td class="instruction">CP $0F</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 0F.</td>
</tr>
<tr>
<td class="address-1"><span id="e45d"></span>E45D</td>
<td class="instruction">JP P,<a href="E396.html#e53c">$E53C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e53c">E53C</a> P.</td>
</tr>
<tr>
<td class="address-1"><span id="e460"></span>E460</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e46f">E46F</a> if <span class="register">A</span> is not equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e462"></span>E462</td>
<td class="instruction">JR NZ,<a href="E396.html#e46f">$E46F</a></td>
</tr>
<tr>
<td class="address-1"><span id="e464"></span>E464</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="3">Jump to <a href="E396.html#e53c">E53C</a> if *<a href="D82D.html">D82D</a> is equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e467"></span>E467</td>
<td class="instruction">CP $02</td>
</tr>
<tr>
<td class="address-1"><span id="e469"></span>E469</td>
<td class="instruction">JP Z,<a href="E396.html#e53c">$E53C</a></td>
</tr>
<tr>
<td class="address-1"><span id="e46c"></span>E46C</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82C.html">D82C</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e46f"></span>E46F</td>
<td class="instruction">ADD A,$04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e471"></span>E471</td>
<td class="instruction">LD ($D82C),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82C.html">D82C</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e474"></span>E474</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e475"></span>E475</td>
<td class="instruction">ADD A,$07</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=07.</td>
</tr>
<tr>
<td class="address-1"><span id="e477"></span>E477</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e478"></span>E478</td>
<td class="instruction">JP <a href="E396.html#e53c">$E53C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e53c">E53C</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e47b"></span>E47B</td>
<td class="instruction">CP $08</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e4a2">E4A2</a> if <span class="register">A</span> is not equal to 08.</td>
</tr>
<tr>
<td class="address-1"><span id="e47d"></span>E47D</td>
<td class="instruction">JR NZ,<a href="E396.html#e4a2">$E4A2</a></td>
</tr>
<tr>
<td class="address-2"><span id="e47f"></span>E47F</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82C.html">D82C</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e482"></span>E482</td>
<td class="instruction">CP $05</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 05.</td>
</tr>
<tr>
<td class="address-1"><span id="e484"></span>E484</td>
<td class="instruction">JP M,<a href="E396.html#e53c">$E53C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e53c">E53C</a> M.</td>
</tr>
<tr>
<td class="address-1"><span id="e487"></span>E487</td>
<td class="instruction">CP $06</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e496">E496</a> if <span class="register">A</span> is not equal to 06.</td>
</tr>
<tr>
<td class="address-1"><span id="e489"></span>E489</td>
<td class="instruction">JR NZ,<a href="E396.html#e496">$E496</a></td>
</tr>
<tr>
<td class="address-1"><span id="e48b"></span>E48B</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="3">Jump to <a href="E396.html#e53c">E53C</a> if *<a href="D82D.html">D82D</a> is equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e48e"></span>E48E</td>
<td class="instruction">CP $02</td>
</tr>
<tr>
<td class="address-1"><span id="e490"></span>E490</td>
<td class="instruction">JP Z,<a href="E396.html#e53c">$E53C</a></td>
</tr>
<tr>
<td class="address-1"><span id="e493"></span>E493</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82C.html">D82C</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e496"></span>E496</td>
<td class="instruction">SUB $04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e498"></span>E498</td>
<td class="instruction">LD ($D82C),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82C.html">D82C</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e49b"></span>E49B</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e49c"></span>E49C</td>
<td class="instruction">SUB $07</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=07.</td>
</tr>
<tr>
<td class="address-1"><span id="e49e"></span>E49E</td>
<td class="instruction">LD (HL),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e49f"></span>E49F</td>
<td class="instruction">JP <a href="E396.html#e53c">$E53C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e53c">E53C</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e4a2"></span>E4A2</td>
<td class="instruction">CP $05</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e4c5">E4C5</a> if <span class="register">A</span> is not equal to 05.</td>
</tr>
<tr>
<td class="address-1"><span id="e4a4"></span>E4A4</td>
<td class="instruction">JR NZ,<a href="E396.html#e4c5">$E4C5</a></td>
</tr>
<tr>
<td class="address-1"><span id="e4a6"></span>E4A6</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e4a9"></span>E4A9</td>
<td class="instruction">CP $0F</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 0F.</td>
</tr>
<tr>
<td class="address-1"><span id="e4ab"></span>E4AB</td>
<td class="instruction">JP P,<a href="E396.html#e458">$E458</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e458">E458</a> P.</td>
</tr>
<tr>
<td class="address-1"><span id="e4ae"></span>E4AE</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e4bd">E4BD</a> if <span class="register">A</span> is not equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e4b0"></span>E4B0</td>
<td class="instruction">JR NZ,<a href="E396.html#e4bd">$E4BD</a></td>
</tr>
<tr>
<td class="address-1"><span id="e4b2"></span>E4B2</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="3">Jump to <a href="E396.html#e3a0">E3A0</a> if *<a href="D82C.html">D82C</a> is equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e4b5"></span>E4B5</td>
<td class="instruction">CP $02</td>
</tr>
<tr>
<td class="address-1"><span id="e4b7"></span>E4B7</td>
<td class="instruction">JP Z,<a href="E396.html#e3a0">$E3A0</a></td>
</tr>
<tr>
<td class="address-1"><span id="e4ba"></span>E4BA</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e4bd"></span>E4BD</td>
<td class="instruction">ADD A,$04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e4bf"></span>E4BF</td>
<td class="instruction">LD ($D82D),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e4c2"></span>E4C2</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e4c3"></span>E4C3</td>
<td class="instruction">JR <a href="E396.html#e458">$E458</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e458">E458</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e4c5"></span>E4C5</td>
<td class="instruction">CP $06</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e4e9">E4E9</a> if <span class="register">A</span> is not equal to 06.</td>
</tr>
<tr>
<td class="address-1"><span id="e4c7"></span>E4C7</td>
<td class="instruction">JR NZ,<a href="E396.html#e4e9">$E4E9</a></td>
</tr>
<tr>
<td class="address-1"><span id="e4c9"></span>E4C9</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e4cc"></span>E4CC</td>
<td class="instruction">CP $05</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 05.</td>
</tr>
<tr>
<td class="address-1"><span id="e4ce"></span>E4CE</td>
<td class="instruction">JP M,<a href="E396.html#e458">$E458</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e458">E458</a> M.</td>
</tr>
<tr>
<td class="address-1"><span id="e4d1"></span>E4D1</td>
<td class="instruction">CP $06</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e4e0">E4E0</a> if <span class="register">A</span> is not equal to 06.</td>
</tr>
<tr>
<td class="address-1"><span id="e4d3"></span>E4D3</td>
<td class="instruction">JR NZ,<a href="E396.html#e4e0">$E4E0</a></td>
</tr>
<tr>
<td class="address-1"><span id="e4d5"></span>E4D5</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="3">Jump to <a href="E396.html#e3fd">E3FD</a> if *<a href="D82C.html">D82C</a> is equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e4d8"></span>E4D8</td>
<td class="instruction">CP $02</td>
</tr>
<tr>
<td class="address-1"><span id="e4da"></span>E4DA</td>
<td class="instruction">JP Z,<a href="E396.html#e3fd">$E3FD</a></td>
</tr>
<tr>
<td class="address-1"><span id="e4dd"></span>E4DD</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e4e0"></span>E4E0</td>
<td class="instruction">SUB $04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e4e2"></span>E4E2</td>
<td class="instruction">LD ($D82D),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e4e5"></span>E4E5</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e4e6"></span>E4E6</td>
<td class="instruction">JP <a href="E396.html#e458">$E458</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e458">E458</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e4e9"></span>E4E9</td>
<td class="instruction">CP $09</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e512">E512</a> if <span class="register">A</span> is not equal to 09.</td>
</tr>
<tr>
<td class="address-1"><span id="e4eb"></span>E4EB</td>
<td class="instruction">JR NZ,<a href="E396.html#e512">$E512</a></td>
</tr>
<tr>
<td class="address-1"><span id="e4ed"></span>E4ED</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e4f0"></span>E4F0</td>
<td class="instruction">CP $0F</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 0F.</td>
</tr>
<tr>
<td class="address-1"><span id="e4f2"></span>E4F2</td>
<td class="instruction">JP P,<a href="E396.html#e47f">$E47F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e47f">E47F</a> P.</td>
</tr>
<tr>
<td class="address-1"><span id="e4f5"></span>E4F5</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e509">E509</a> if <span class="register">A</span> is not equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e4f7"></span>E4F7</td>
<td class="instruction">JR NZ,<a href="E396.html#e509">$E509</a></td>
</tr>
<tr>
<td class="address-1"><span id="e4f9"></span>E4F9</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="3">Jump to <a href="E396.html#e3a0">E3A0</a> if *<a href="D82C.html">D82C</a> is equal to 06.</td>
</tr>
<tr>
<td class="address-1"><span id="e4fc"></span>E4FC</td>
<td class="instruction">CP $06</td>
</tr>
<tr>
<td class="address-1"><span id="e4fe"></span>E4FE</td>
<td class="instruction">JP Z,<a href="E396.html#e3a0">$E3A0</a></td>
</tr>
<tr>
<td class="address-1"><span id="e501"></span>E501</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="2">Jump to <a href="E396.html#e3a0">E3A0</a> if *<a href="D82C.html">D82C</a> is equal to 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e503"></span>E503</td>
<td class="instruction">JP Z,<a href="E396.html#e3a0">$E3A0</a></td>
</tr>
<tr>
<td class="address-1"><span id="e506"></span>E506</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e509"></span>E509</td>
<td class="instruction">ADD A,$04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>+=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e50b"></span>E50B</td>
<td class="instruction">LD ($D82D),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e50e"></span>E50E</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e50f"></span>E50F</td>
<td class="instruction">JP <a href="E396.html#e47f">$E47F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e47f">E47F</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e512"></span>E512</td>
<td class="instruction">CP $0A</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 0A.</td>
</tr>
<tr>
<td class="address-1"><span id="e514"></span>E514</td>
<td class="instruction">JP NZ,<a href="F43E.html">$F43E</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="F43E.html">F43E</a> if <span class="register">A</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e517"></span>E517</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e51a"></span>E51A</td>
<td class="instruction">CP $05</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 05.</td>
</tr>
<tr>
<td class="address-1"><span id="e51c"></span>E51C</td>
<td class="instruction">JP M,<a href="E396.html#e47f">$E47F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e47f">E47F</a> M.</td>
</tr>
<tr>
<td class="address-1"><span id="e51f"></span>E51F</td>
<td class="instruction">CP $06</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 06.</td>
</tr>
<tr>
<td class="address-1"><span id="e521"></span>E521</td>
<td class="instruction">JR NZ,<a href="E396.html#e533">$E533</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e533">E533</a> if <span class="register">A</span> is not zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e523"></span>E523</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82C.html">D82C</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e526"></span>E526</td>
<td class="instruction">CP $06</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 06.</td>
</tr>
<tr>
<td class="address-1"><span id="e528"></span>E528</td>
<td class="instruction">JP Z,<a href="E396.html#e53c">$E53C</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e53c">E53C</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e52b"></span>E52B</td>
<td class="instruction">CP $02</td>
<td class="comment-1" rowspan="1">Compare <span class="register">A</span> with 02.</td>
</tr>
<tr>
<td class="address-1"><span id="e52d"></span>E52D</td>
<td class="instruction">JP Z,<a href="E396.html#e3fd">$E3FD</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e3fd">E3FD</a> if <span class="register">A</span> is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e530"></span>E530</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e533"></span>E533</td>
<td class="instruction">SUB $04</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>-=04.</td>
</tr>
<tr>
<td class="address-1"><span id="e535"></span>E535</td>
<td class="instruction">LD ($D82D),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e538"></span>E538</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e539"></span>E539</td>
<td class="instruction">JP <a href="E396.html#e47f">$E47F</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e47f">E47F</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e53c"></span>E53C</td>
<td class="instruction">CALL <a href="E2CA.html">$E2CA</a></td>
<td class="comment-1" rowspan="1">Call <a href="E2CA.html">E2CA</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e53f"></span>E53F</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="2">Write *<a href="D82C.html">D82C</a> to *<a href="D830.html">D830</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e542"></span>E542</td>
<td class="instruction">LD ($D830),A</td>
</tr>
<tr>
<td class="address-1"><span id="e545"></span>E545</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="2">Write *<a href="D82D.html">D82D</a> to *<a href="D831.html">D831</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e548"></span>E548</td>
<td class="instruction">LD ($D831),A</td>
</tr>
<tr>
<td class="address-1"><span id="e54b"></span>E54B</td>
<td class="instruction">LD A,R</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=the contents of the Memory Refresh Register.</td>
</tr>
<tr>
<td class="address-1"><span id="e54d"></span>E54D</td>
<td class="instruction">RLCA</td>
<td class="comment-1" rowspan="1">RLCA.</td>
</tr>
<tr>
<td class="address-1"><span id="e54e"></span>E54E</td>
<td class="instruction">LD L,A</td>
<td class="comment-1" rowspan="1"><span class="register">L</span>=<span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e54f"></span>E54F</td>
<td class="instruction">LD H,$00</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=00.</td>
</tr>
<tr>
<td class="address-1"><span id="e551"></span>E551</td>
<td class="instruction">LD B,$46</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=46.</td>
</tr>
<tr>
<td class="address-1"><span id="e553"></span>E553</td>
<td class="instruction">LD D,$05</td>
<td class="comment-1" rowspan="1"><span class="register">D</span>=05.</td>
</tr>
<tr>
<td class="address-2"><span id="e555"></span>E555</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e556"></span>E556</td>
<td class="instruction">AND %00011000</td>
<td class="comment-1" rowspan="1">Keep only bits 3-4.</td>
</tr>
<tr>
<td class="address-1"><span id="e558"></span>E558</td>
<td class="instruction">OR %00000101</td>
<td class="comment-1" rowspan="1">Set bits 0, 2.</td>
</tr>
<tr>
<td class="address-1"><span id="e55a"></span>E55A</td>
<td class="instruction">OUT ($FE),A</td>
<td class="comment-1" rowspan="1">Set border to the colour held by <span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e55c"></span>E55C</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e55d"></span>E55D</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="e55e"></span>E55E</td>
<td class="instruction">LD B,D</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">D</span>.</td>
</tr>
<tr>
<td class="address-2"><span id="e55f"></span>E55F</td>
<td class="instruction">DJNZ <a href="E396.html#e55f">$E55F</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="E396.html#e55f">E55F</a> until counter is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e561"></span>E561</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="e562"></span>E562</td>
<td class="instruction">DJNZ <a href="E396.html#e555">$E555</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="E396.html#e555">E555</a> until counter is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e564"></span>E564</td>
<td class="instruction">HALT</td>
<td class="comment-1" rowspan="1">Halt operation (suspend CPU until the next interrupt).</td>
</tr>
<tr>
<td class="address-1"><span id="e565"></span>E565</td>
<td class="instruction">LD A,($D82C)</td>
<td class="comment-1" rowspan="4">Jump to <a href="E396.html#e575">E575</a> if *<a href="D82C.html">D82C</a> is equal to *<a href="D82E.html">PlayerCursor_Y_Position</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e568"></span>E568</td>
<td class="instruction">LD HL,$D82E</td>
</tr>
<tr>
<td class="address-1"><span id="e56b"></span>E56B</td>
<td class="instruction">CP (HL)</td>
</tr>
<tr>
<td class="address-1"><span id="e56c"></span>E56C</td>
<td class="instruction">JR Z,<a href="E396.html#e575">$E575</a></td>
</tr>
<tr>
<td class="address-1"><span id="e56e"></span>E56E</td>
<td class="instruction">JP P,<a href="E396.html#e574">$E574</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e574">E574</a> P.</td>
</tr>
<tr>
<td class="address-1"><span id="e571"></span>E571</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e572"></span>E572</td>
<td class="instruction">JR <a href="E396.html#e575">$E575</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e575">E575</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e574"></span>E574</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-2"><span id="e575"></span>E575</td>
<td class="instruction">LD A,($D82D)</td>
<td class="comment-1" rowspan="4">Jump to <a href="E396.html#e585">E585</a> if *<a href="D82D.html">D82D</a> is equal to *<a href="D82E.html#d82f">PlayerCursor_X_Position</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e578"></span>E578</td>
<td class="instruction">LD HL,$D82F</td>
</tr>
<tr>
<td class="address-1"><span id="e57b"></span>E57B</td>
<td class="instruction">CP (HL)</td>
</tr>
<tr>
<td class="address-1"><span id="e57c"></span>E57C</td>
<td class="instruction">JR Z,<a href="E396.html#e585">$E585</a></td>
</tr>
<tr>
<td class="address-1"><span id="e57e"></span>E57E</td>
<td class="instruction">JP P,<a href="E396.html#e584">$E584</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e584">E584</a> P.</td>
</tr>
<tr>
<td class="address-1"><span id="e581"></span>E581</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e582"></span>E582</td>
<td class="instruction">JR <a href="E396.html#e585">$E585</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="E396.html#e585">E585</a>.</td>
</tr>
<tr>
<td class="address-2"><span id="e584"></span>E584</td>
<td class="instruction">INC (HL)</td>
<td class="comment-1" rowspan="1">Increment *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-2"><span id="e585"></span>E585</td>
<td class="instruction">LD A,($D82E)</td>
<td class="comment-1" rowspan="4">Jump to <a href="E396.html#e53c">E53C</a> if *<a href="D82E.html">PlayerCursor_Y_Position</a> is not equal to *<a href="D82C.html">D82C</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e588"></span>E588</td>
<td class="instruction">LD HL,$D82C</td>
</tr>
<tr>
<td class="address-1"><span id="e58b"></span>E58B</td>
<td class="instruction">CP (HL)</td>
</tr>
<tr>
<td class="address-1"><span id="e58c"></span>E58C</td>
<td class="instruction">JR NZ,<a href="E396.html#e53c">$E53C</a></td>
</tr>
<tr>
<td class="address-1"><span id="e58e"></span>E58E</td>
<td class="instruction">LD A,($D82F)</td>
<td class="comment-1" rowspan="4">Jump to <a href="E396.html#e53c">E53C</a> if *<a href="D82E.html#d82f">PlayerCursor_X_Position</a> is not equal to *<a href="D82D.html">D82D</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="e591"></span>E591</td>
<td class="instruction">LD HL,$D82D</td>
</tr>
<tr>
<td class="address-1"><span id="e594"></span>E594</td>
<td class="instruction">CP (HL)</td>
</tr>
<tr>
<td class="address-1"><span id="e595"></span>E595</td>
<td class="instruction">JR NZ,<a href="E396.html#e53c">$E53C</a></td>
</tr>
<tr>
<td class="address-1"><span id="e597"></span>E597</td>
<td class="instruction">LD A,R</td>
<td class="comment-1" rowspan="2"><span class="register">L</span>=the contents of the Memory Refresh Register.</td>
</tr>
<tr>
<td class="address-1"><span id="e599"></span>E599</td>
<td class="instruction">LD L,A</td>
</tr>
<tr>
<td class="address-1"><span id="e59a"></span>E59A</td>
<td class="instruction">LD H,$0A</td>
<td class="comment-1" rowspan="1"><span class="register">H</span>=0A.</td>
</tr>
<tr>
<td class="address-1"><span id="e59c"></span>E59C</td>
<td class="instruction">LD B,$23</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=23.</td>
</tr>
<tr>
<td class="address-1"><span id="e59e"></span>E59E</td>
<td class="instruction">LD C,$64</td>
<td class="comment-1" rowspan="1"><span class="register">C</span>=64.</td>
</tr>
<tr>
<td class="address-2"><span id="e5a0"></span>E5A0</td>
<td class="instruction">LD A,(HL)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e5a1"></span>E5A1</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="address-1"><span id="e5a2"></span>E5A2</td>
<td class="instruction">AND %00011000</td>
<td class="comment-1" rowspan="1">Keep only bits 3-4.</td>
</tr>
<tr>
<td class="address-1"><span id="e5a4"></span>E5A4</td>
<td class="instruction">OR %00000101</td>
<td class="comment-1" rowspan="1">Set bits 0, 2.</td>
</tr>
<tr>
<td class="address-1"><span id="e5a6"></span>E5A6</td>
<td class="instruction">OUT ($FE),A</td>
<td class="comment-1" rowspan="1">Set border to the colour held by <span class="register">A</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="e5a8"></span>E5A8</td>
<td class="instruction">PUSH BC</td>
<td class="comment-1" rowspan="1">Stash <span class="register">BC</span> on the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="e5a9"></span>E5A9</td>
<td class="instruction">LD B,C</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=<span class="register">C</span>.</td>
</tr>
<tr>
<td class="address-2"><span id="e5aa"></span>E5AA</td>
<td class="instruction">DJNZ <a href="E396.html#e5aa">$E5AA</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="E396.html#e5aa">E5AA</a> until counter is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e5ac"></span>E5AC</td>
<td class="instruction">POP BC</td>
<td class="comment-1" rowspan="1">Restore <span class="register">BC</span> from the stack.</td>
</tr>
<tr>
<td class="address-1"><span id="e5ad"></span>E5AD</td>
<td class="instruction">DJNZ <a href="E396.html#e5a0">$E5A0</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="E396.html#e5a0">E5A0</a> until counter is zero.</td>
</tr>
<tr>
<td class="address-1"><span id="e5af"></span>E5AF</td>
<td class="instruction">RET</td>
<td class="comment-1" rowspan="1">Return.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="E352.html">E352</a>
</td>
<td class="up">Up: <a href="../maps/all.html#e396">Map</a></td>
<td class="next">
Next: <a href="E5B0.html">E5B0</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1986 Domark Ltd &copy; 2024 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.4.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/splittingimages/">Source code</a>.</div>
<div><a href="../dec/asm/58262.html">Switch to decimal</a>.</div>
</footer>
</body>
</html>