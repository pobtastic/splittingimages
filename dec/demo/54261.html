<!DOCTYPE html>
<html>
<head>
<title>Splitting Images: Routine at 54261</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-wide.css" />
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-75RERFCHBG"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-75RERFCHBG');
</script>
</head>
<body class="demo-Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="logo" src="../images/logo.png" /></a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="53982.html">53982</a>
</td>
<td class="up">Up: <a href="../demo.html#54261">Map</a></td>
<td class="next">
Next: <a href="54397.html">54397</a>
</td>
</tr>
</table>
<div class="description">54261: Start Game</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="53674.html">DemoEntryPoint</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="54261"></span>
<div class="comments">
<div class="paragraph">
The game always starts with the cursor inside the home box.
</div>
<div class="paragraph">
This is position 2/ 2:   <table class="">
<tr>
<td class="" colspan="1" rowspan="1"><img alt="demo-cursor-02-02" src="../../images/scr/demo-cursor-02-02.png" /></td>
</tr>
</table>
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">StartGame</td>
<td class="address-2"><span id="54261"></span>54261</td>
<td class="instruction">LD A,2</td>
<td class="comment-1" rowspan="5">Write 2 to: <ul class="">
<li>*<a href="54600.html#54604">54604</a></li>
<li>*<a href="54600.html#54605">54605</a></li>
<li>*<a href="54600.html#54602">54602</a></li>
<li>*<a href="54600.html#54603">54603</a></li>
</ul></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54263"></span>54263</td>
<td class="instruction">LD (54604),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54266"></span>54266</td>
<td class="instruction">LD (54605),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54269"></span>54269</td>
<td class="instruction">LD (54602),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54272"></span>54272</td>
<td class="instruction">LD (54603),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54275"></span>54275</td>
<td class="instruction">LD A,9</td>
<td class="comment-1" rowspan="2">Write 9 to *<a href="54608.html">54608</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54277"></span>54277</td>
<td class="instruction">LD (54608),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54280"></span>54280</td>
<td class="instruction">LD HL,54595</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="54595.html">Lives</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54283"></span>54283</td>
<td class="instruction">DEC (HL)</td>
<td class="comment-1" rowspan="1">Decrease *<span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54284"></span>54284</td>
<td class="instruction">JP Z,<a href="54261.html#54370">StartGame_2</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="54261.html#54370">StartGame_2</a> until *<span class="register">HL</span> is equal to 0.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54287"></span>54287</td>
<td class="instruction">LD HL,54614</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="54613.html#54614">54614</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54290"></span>54290</td>
<td class="instruction">LD (HL),0</td>
<td class="comment-1" rowspan="1">Write 0 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54292"></span>54292</td>
<td class="instruction">CALL <a href="59649.html#61243">61243</a></td>
<td class="comment-1" rowspan="1">Call <a href="59649.html#61243">61243</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54295"></span>54295</td>
<td class="instruction">LD HL,(54670)</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=*<a href="54670.html">54670</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54298"></span>54298</td>
<td class="instruction">LD (HL),45</td>
<td class="comment-1" rowspan="1">Write INK:
CYAN,
PAPER:
CYAN

 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54300"></span>54300</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54301"></span>54301</td>
<td class="instruction">LD (HL),45</td>
<td class="comment-1" rowspan="1">Write INK:
CYAN,
PAPER:
CYAN

 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54303"></span>54303</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54304"></span>54304</td>
<td class="instruction">LD (54670),HL</td>
<td class="comment-1" rowspan="1">Write <span class="register">HL</span> to *<a href="54670.html">54670</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54307"></span>54307</td>
<td class="instruction">LD DE,30</td>
<td class="comment-1" rowspan="2"><span class="register">HL</span>+=0030.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54310"></span>54310</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54311"></span>54311</td>
<td class="instruction">LD (HL),45</td>
<td class="comment-1" rowspan="1">Write INK:
CYAN,
PAPER:
CYAN

 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54313"></span>54313</td>
<td class="instruction">INC HL</td>
<td class="comment-1" rowspan="1">Increment <span class="register">HL</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54314"></span>54314</td>
<td class="instruction">LD (HL),45</td>
<td class="comment-1" rowspan="1">Write INK:
CYAN,
PAPER:
CYAN

 to *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54316"></span>54316</td>
<td class="instruction">LD HL,54614</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="54613.html#54614">54614</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54319"></span>54319</td>
<td class="instruction">SET 0,(HL)</td>
<td class="comment-1" rowspan="1">Set bit 0 of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="54321"></span>
<div class="comments">
<div class="paragraph">
This entry point is used by the routine at <a href="53982.html">53982</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="asm-label">StartGame_0</td>
<td class="address-2"><span id="54321"></span>54321</td>
<td class="instruction">LD A,(54614)</td>
<td class="comment-1" rowspan="1"><span class="register">A</span>=*<a href="54613.html#54614">54614</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54324"></span>54324</td>
<td class="instruction">AND %11110001</td>
<td class="comment-1" rowspan="1">Keep only bits 0, 4-7.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54326"></span>54326</td>
<td class="instruction">LD (54614),A</td>
<td class="comment-1" rowspan="1">Write <span class="register">A</span> to *<a href="54613.html#54614">54614</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54329"></span>54329</td>
<td class="instruction">LD A,(54604)</td>
<td class="comment-1" rowspan="2">Write *<a href="54600.html#54604">54604</a> to *<a href="54600.html">54600</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54332"></span>54332</td>
<td class="instruction">LD (54600),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54335"></span>54335</td>
<td class="instruction">LD A,(54605)</td>
<td class="comment-1" rowspan="2">Write *<a href="54600.html#54605">54605</a>to *<a href="54600.html#54601">54601</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54338"></span>54338</td>
<td class="instruction">LD (54601),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54341"></span>54341</td>
<td class="instruction">LD A,(54592)</td>
<td class="comment-1" rowspan="2">Write *<a href="54577.html#54592">54592</a>to *<a href="54600.html#54606">54606</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54344"></span>54344</td>
<td class="instruction">LD (54606),A</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54347"></span>54347</td>
<td class="instruction">LD A,(54609)</td>
<td class="comment-1" rowspan="3">Jump to <a href="54261.html#54364">StartGame_1</a> if *<a href="54608.html#54609">54609</a> is not equal to 0.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54350"></span>54350</td>
<td class="instruction">CP 0</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54352"></span>54352</td>
<td class="instruction">JR NZ,<a href="54261.html#54364">StartGame_1</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54354"></span>54354</td>
<td class="instruction">LD A,(54608)</td>
<td class="comment-1" rowspan="3">Jump to <a href="54261.html#54364">StartGame_1</a> if *<a href="54608.html">54608</a> is equal to 9.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54357"></span>54357</td>
<td class="instruction">CP 9</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54359"></span>54359</td>
<td class="instruction">JR Z,<a href="54261.html#54364">StartGame_1</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54361"></span>54361</td>
<td class="instruction">CALL <a href="58476.html">Display_PlayerCursor</a></td>
<td class="comment-1" rowspan="1">Call <a href="58476.html">Display_PlayerCursor</a>.</td>
</tr>
<tr>
<td class="asm-label">StartGame_1</td>
<td class="address-2"><span id="54364"></span>54364</td>
<td class="instruction">CALL <a href="55177.html">55177</a></td>
<td class="comment-1" rowspan="1">Call <a href="55177.html">55177</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54367"></span>54367</td>
<td class="instruction">JP <a href="53982.html">53982</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="53982.html">53982</a>.</td>
</tr>
<tr>
<td class="asm-label">StartGame_2</td>
<td class="address-2"><span id="54370"></span>54370</td>
<td class="instruction">LD HL,54613</td>
<td class="comment-1" rowspan="1"><span class="register">HL</span>=<a href="54613.html">54613</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54373"></span>54373</td>
<td class="instruction">SET 7,(HL)</td>
<td class="comment-1" rowspan="1">Set bit 7 of *<span class="register">HL</span>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54375"></span>54375</td>
<td class="instruction">LD B,75</td>
<td class="comment-1" rowspan="1"><span class="register">B</span>=75.</td>
</tr>
<tr>
<td class="asm-label">StartGame_3</td>
<td class="address-2"><span id="54377"></span>54377</td>
<td class="instruction">HALT</td>
<td class="comment-1" rowspan="1">Halt operation (suspend CPU until the next interrupt).</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54378"></span>54378</td>
<td class="instruction">DJNZ <a href="54261.html#54377">StartGame_3</a></td>
<td class="comment-1" rowspan="1">Decrease counter by one and loop back to <a href="54261.html#54377">StartGame_3</a> until counter is zero.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54380"></span>54380</td>
<td class="instruction">DI</td>
<td class="comment-1" rowspan="1">Disable interrupts.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54381"></span>54381</td>
<td class="instruction">CALL <a href="59649.html">59649</a></td>
<td class="comment-1" rowspan="1">Call <a href="59649.html">59649</a>.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54384"></span>54384</td>
<td class="instruction">LD BC,0</td>
<td class="comment-1" rowspan="1"><span class="register">BC</span>=0000.</td>
</tr>
<tr>
<td class="asm-label">StartGame_4</td>
<td class="address-2"><span id="54387"></span>54387</td>
<td class="instruction">DEC BC</td>
<td class="comment-1" rowspan="1">Decrease <span class="register">BC</span> by one.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54388"></span>54388</td>
<td class="instruction">LD A,B</td>
<td class="comment-1" rowspan="3">Jump to <a href="54261.html#54387">StartGame_4</a> until <span class="register">BC</span> is equal to 0.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54389"></span>54389</td>
<td class="instruction">OR C</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54390"></span>54390</td>
<td class="instruction">JR NZ,<a href="54261.html#54387">StartGame_4</a></td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54392"></span>54392</td>
<td class="instruction">POP IY</td>
<td class="comment-1" rowspan="1">Restore <span class="register">IY</span> from the stack.</td>
</tr>
<tr>
<td class="asm-label"></td>
<td class="address-1"><span id="54394"></span>54394</td>
<td class="instruction">JP <a href="53674.html#53699">DemoEntryPoint_0</a></td>
<td class="comment-1" rowspan="1">Jump to <a href="53674.html#53699">DemoEntryPoint_0</a>.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="53982.html">53982</a>
</td>
<td class="up">Up: <a href="../demo.html#54261">Map</a></td>
<td class="next">
Next: <a href="54397.html">54397</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">&copy; 1986 Domark Ltd &copy; 2024 ArcadeGeek LTD.</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 9.4.</div>
<div class="repository">Link to <a rel="noopener nofollow" href="https://github.com/pobtastic/splittingimages/">Source code</a>.</div>
<div><a href="../../demo/54261.html">Switch to hexadecimal</a>.</div>
</footer>
</body>
</html>